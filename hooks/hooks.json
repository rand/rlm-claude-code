{
  "hooks": {
    "SessionStart": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "npx ts-node \"${CLAUDE_PLUGIN_ROOT}/scripts/npm/ensure-setup.ts\" --json",
            "timeout": 30000,
            "description": "Check RLM setup status and auto-fix if needed"
          },
          {
            "type": "command",
            "command": "npx ts-node \"${CLAUDE_PLUGIN_ROOT}/scripts/npm/hook-dispatch.ts\" session-init",
            "timeout": 10000,
            "description": "Initialize RLM environment (venv bootstrap, config setup)"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx ts-node \"${CLAUDE_PLUGIN_ROOT}/scripts/npm/hook-dispatch.ts\" complexity-check",
            "timeout": 3000,
            "description": "Classify prompt complexity for RLM activation"
          }
        ]
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"hookSpecificOutput\": {\"hookEventName\": \"UserPromptSubmit\", \"additionalContext\": \"RLM activation triggered. Use Task tool to invoke rlm-claude-code:rlm-orchestrator immediately. This agent provides intelligent orchestration for complex multi-step tasks with context decomposition, memory persistence, and recursive reasoning.\"}}'",
            "description": "RLM activation - trigger orchestrator agent"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "npx ts-node \"${CLAUDE_PLUGIN_ROOT}/scripts/npm/hook-dispatch.ts\" sync-context",
            "timeout": 3000,
            "description": "Sync tool context with RLM state before execution"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "npx ts-node \"${CLAUDE_PLUGIN_ROOT}/scripts/npm/hook-dispatch.ts\" capture-output",
            "timeout": 3000,
            "description": "Capture tool output for RLM context after execution"
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"hookSpecificOutput\": {\"hookEventName\": \"PreCompact\", \"additionalContext\": \"Before compaction, ensure any active RLM context (trajectory, memory state, orchestration state) has been externalized. If RLM is active, save trajectory with /rlm save.\"}}'",
            "description": "Externalize RLM context before compaction"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx ts-node \"${CLAUDE_PLUGIN_ROOT}/scripts/npm/hook-dispatch.ts\" trajectory-save",
            "timeout": 5000,
            "description": "Save RLM trajectory on session end"
          }
        ]
      }
    ]
  }
}
